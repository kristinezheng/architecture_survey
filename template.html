<!DOCTYPE html>
<html>

<head>
    <title>Template</title>
    <meta http-equiv="pragma" content="no-cache">
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <link href="https://unpkg.com/jspsych@7.3.1/css/jspsych.css" rel="stylesheet" type="text/css" />
    <script src="https://unpkg.com/jspsych@7.3.1"></script>
    <!-- <script src="https://unpkg.com/@jspsych/plugin-preload@1.1.2"></script> -->
    <!-- <script src="https://unpkg.com/@jspsych/plugin-instructions@1.1.2"></script> -->
    <!-- <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.2"></script> -->
    <script src="https://unpkg.com/@jspsych/plugin-html-button-response@1.1.2"></script>
    <!-- <script src="https://unpkg.com/@jspsych/plugin-html-slider-response@1.1.2"></script> -->
    <!-- <script src="https://unpkg.com/@jspsych/plugin-image-keyboard-response@1.1.2"></script> -->
    <!-- <script src="https://unpkg.com/@jspsych/plugin-image-button-response@1.1.2"></script> -->
    <!-- <script src="https://unpkg.com/@jspsych/plugin-image-slider-response@1.1.2"></script> -->
    <!-- <script src="https://unpkg.com/@jspsych/plugin-survey-html-form@1.1.2"></script> -->
    <!-- <script src="https://unpkg.com/@jspsych/plugin-survey-text@1.1.2"></script> -->
    <!-- <script src="https://unpkg.com/@jspsych/plugin-categorize-html@1.1.2"></script> -->
    <!-- <script src="https://unpkg.com/@jspsych/plugin-categorize-image@1.1.2"></script> -->
    <!-- <script src="https://unpkg.com/@jspsych/plugin-free-sort@1.0.2"></script> -->
    <!-- <script src="https://unpkg.com/@jspsych/extension-mouse-tracking@1.0.2"></script> -->
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js'></script>
    <script src="util.js"></script>
</head>

<body></body>

<script>
    // Initialize the jsPsych object (possibly with arguments: https://www.jspsych.org/7.3/reference/jspsych/)
    var jsPsych = initJsPsych(); // <-- set this up to display data and write it to server

    // Define `url_write_data_php` and `output_filename` for the `write_data_to_server` function
    var url_experiment_dir = 'https://msaddler.scripts.mit.edu/jspsych_tutorial_960/'; // <-- change this
    var url_write_data_php = url_experiment_dir + 'write_data.php';
    var subject_id = jsPsych.data.getURLVariable('subject_id'); // <-- use URL variables?
    console.log(`subject_id from URL: ${subject_id}`);
    if (!subject_id) {
        subject_id = jsPsych.randomization.randomID(10);
        console.log(`subject_id randomly assigned: ${subject_id}`);
    }
    var output_filename = `data/subject_${subject_id}.json`;
    console.log(`Data will be saved to: ${url_experiment_dir + output_filename}`);

    // Initialize a timeline (just an empty array)
    var timeline = [];

    // Always good to put experiment instructions /  disclaimers on the first page
    var first_page = {
        type: jsPsychHtmlButtonResponse,
        stimulus: [
            '<h2>Template</h2>' +
            '<p>In this experiment, ...</p>' +
            '<p>Your task is to ...</p>'
        ],
        choices: ['Begin experiment'],
    };
    timeline.push(first_page);

    //
    // <-- add some trials to your timeline here!
    //

    // Run the timeline
    jsPsych.run(timeline);
</script>

</html>